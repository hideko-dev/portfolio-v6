import{s as j,n as I,o as x}from"../chunks/scheduler.0d2f776c.js";import{S as F,i as N,s as b,e as y,w as O,d as p,f as k,c as D,a as w,q as W,r as g,g as $,h as u,x as z,t as A,b as M,j as P}from"../chunks/index.e8a83480.js";import{e as S}from"../chunks/each.e59479a4.js";import{c as B}from"../chunks/works.daa1dc1c.js";function T(o,e,n){const a=o.slice();return a[1]=e[n],a}function Y(o){let e,n,a=L(o[1].publishedAt)+"",r,v,i,h=o[1].title+"",l,s,f,t=V(new Date,o[1].publishedAt)+"",d,m,E;return{c(){e=y("a"),n=y("p"),r=A(a),v=b(),i=y("p"),l=A(h),s=b(),f=y("p"),d=A(t),m=b(),this.h()},l(_){e=D(_,"A",{class:!0,href:!0});var c=w(e);n=D(c,"P",{class:!0});var q=w(n);r=M(q,a),q.forEach(p),v=k(c),i=D(c,"P",{class:!0});var C=w(i);l=M(C,h),C.forEach(p),s=k(c),f=D(c,"P",{class:!0});var H=w(f);d=M(H,t),H.forEach(p),m=k(c),c.forEach(p),this.h()},h(){g(n,"class","y svelte-1rrgy8n"),g(i,"class","t svelte-1rrgy8n"),g(f,"class","a svelte-1rrgy8n"),g(e,"class","content svelte-1rrgy8n"),g(e,"href",E="works/"+o[1].id)},m(_,c){$(_,e,c),u(e,n),u(n,r),u(e,v),u(e,i),u(i,l),u(e,s),u(e,f),u(f,d),u(e,m)},p(_,c){c&1&&a!==(a=L(_[1].publishedAt)+"")&&P(r,a),c&1&&h!==(h=_[1].title+"")&&P(l,h),c&1&&t!==(t=V(new Date,_[1].publishedAt)+"")&&P(d,t),c&1&&E!==(E="works/"+_[1].id)&&g(e,"href",E)},d(_){_&&p(e)}}}function G(o){let e,n,a,r,v='<p class="date svelte-1rrgy8n">date</p> <p class="title">title</p> <p class="ago svelte-1rrgy8n">ago</p>',i,h=S(o[0]),l=[];for(let s=0;s<h.length;s+=1)l[s]=Y(T(o,h,s));return{c(){e=b(),n=y("section"),a=y("div"),r=y("div"),r.innerHTML=v,i=b();for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){O("svelte-h4ubwq",document.head).forEach(p),e=k(s),n=D(s,"SECTION",{class:!0});var t=w(n);a=D(t,"DIV",{class:!0});var d=w(a);r=D(d,"DIV",{class:!0,"data-svelte-h":!0}),W(r)!=="svelte-1teptle"&&(r.innerHTML=v),i=k(d);for(let m=0;m<l.length;m+=1)l[m].l(d);d.forEach(p),t.forEach(p),this.h()},h(){document.title="Works - Hideko Portfolio",g(r,"class","titles svelte-1rrgy8n"),g(a,"class","contents svelte-1rrgy8n"),g(n,"class","svelte-1rrgy8n")},m(s,f){$(s,e,f),$(s,n,f),u(n,a),u(a,r),u(a,i);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(a,null)},p(s,[f]){if(f&1){h=S(s[0]);let t;for(t=0;t<h.length;t+=1){const d=T(s,h,t);l[t]?l[t].p(d,f):(l[t]=Y(d),l[t].c(),l[t].m(a,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=h.length}},i:I,o:I,d(s){s&&(p(e),p(n)),z(l,s)}}}function L(o){return new Date(o).getFullYear()}function V(o,e){const n=new Date(o),a=new Date(e),r=n-a,v=Math.floor(r/(1e3*60*60*24)),i=Math.floor(v/365);return i<1?v+"d ago":i+"y ago"}function J(o,e,n){let a=[];return x(async()=>{const r=await B.get({endpoint:"works"});n(0,a=r.contents)}),[a]}class X extends F{constructor(e){super(),N(this,e,J,G,j,{})}}export{X as component};
